<!DOCTYPE html>
<html lang="jp">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>WebRTC - getDisplayMedia()</title>
</head>

<body>
    <h1>WebRTC - getDisplayMedia()</h1>
    <video autoplay playsinline></video>
</body>

<script>

    const mediaStreamConstraints = {
        video: true
    };

    const localVideo = document.querySelector("video");

    function gotLocalMediaStream(mediaStream) {
        const localStream = mediaStream;
        localVideo.srcObject = mediaStream;
    }

    function handleLocalMediaStreamError(error) {
        console.log("navigator.getUserMedia error: ", error);
    }

    navigator.mediaDevices
        .getDisplayMedia(mediaStreamConstraints)
        .then(gotLocalMediaStream)
        .catch(handleLocalMediaStreamError);

</script>

</html>